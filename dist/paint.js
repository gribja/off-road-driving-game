function initializeCanvas(){canvas.translate(0,CANVAS_HEIGTH),canvas.scale(1,-1),canvas.font="bold 24px 'Segoe UI','Helvetica Neue',sans-serif"}function paintColumn(a,n){canvas.drawImage(columnSprite,a-HALF_COLUMN_WIDTH,-n.height),-1!=n.danger.a&&canvas.fillRect(a-HALF_COLUMN_WIDTH,-n.danger.a-n.danger.b,COLUMN_WIDTH+.5,n.danger.b),-1!=n.danger.a2&&canvas.fillRect(a-HALF_COLUMN_WIDTH,-n.danger.a2-n.danger.b2,COLUMN_WIDTH+.5,n.danger.b2)}function paintEasing(a,n,e){canvas.beginPath(),canvas.moveTo(a,n);for(var t=0;t<=EASING_POINTS;++t){var c=t*EASING_STEP;canvas.lineTo(a+c*COLUMN_WIDTH,lerp(n,e,easeInOutQuad(c)))}canvas.lineWidth=1,canvas.strokeStyle="#E91E63",canvas.stroke()}function paintColumns(a){canvas.save(),canvas.scale(1,-1),canvas.fillStyle=dangerPattern;for(var n=colBegin;a-HALF_COLUMN_WIDTH<CANVAS_WIDTH;)paintColumn(a,n),n=n.next,a+=COLUMN_WIDTH;canvas.restore()}function paintImpendingDoom(a){canvas.fillStyle=dangerPattern,-1!=a.a&&(canvas.fillRect(0,a.a,HALF_COLUMN_WIDTH,a.b),canvas.fillRect(CANVAS_WIDTH-HALF_COLUMN_WIDTH,a.a,HALF_COLUMN_WIDTH,a.b)),-1!=a.a2&&(canvas.fillRect(0,a.a2,HALF_COLUMN_WIDTH,a.b2),canvas.fillRect(CANVAS_WIDTH-HALF_COLUMN_WIDTH,a.a2,HALF_COLUMN_WIDTH,a.b2))}function paint(a,n){canvas.clearRect(0,0,CANVAS_WIDTH,CANVAS_HEIGTH),paintColumns(-(colOffset+n*scrollSpeed)),paintPlayer(n),nextDanger!==NO_DANGER&&!doDanger&&(255&a)<127&&paintImpendingDoom(nextDanger)}