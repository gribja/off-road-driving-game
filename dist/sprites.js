var grass=["2211112222111222","3222223333222333","3333033333333333","0333033303330333","0302030203030203","0301020102030102","0300010001020001","020  00  0010  0","010       00    "," 0              "],car=["    0000000000      ","   000101100110     ","  00000000100010    "," 001000000000000000 ","00221000000000001110","02222122222222222220","02222220020000222220"," 000002222222210000 ","      022222210     ","       0000000      ","        0000        ","  00000000000000000 ","  00000000000000000 "],wheel0=["  0000  "," 011110 ","01111110","00000000","00000000","02111120"," 022220 ","  0000  "],wheel1=["   000  ","  01110 "," 0001110","01000110","01100010","0211000 "," 02220  ","  000   "],wheel2=["  0000  "," 010010 ","01100110","01100110","01100110","02100120"," 020020 ","  0000  "],wheel3=["  000   "," 01110  ","0111000 ","01100010","01000110"," 0001120","  02220 ","   000  "],GRASS_COLOR=["#000","#00E700","#00C700","#008200"],GROUND_COLOR=["#422021","#844121","#A56121"],BRICK_COLOR=["#000","#A40000","#CC0000","#EF2929"],CAR_VARIANTS=["#607D8B","#D500F9","#F50057"],CAR_COLOR=["#000","#FFF",CAR_VARIANTS[Math.floor(3*Math.random())]];function makeSprite(e,l,t){var R=document.createElement("canvas");return R.width=e,R.height=l,t(R.getContext("2d")),R}function makeSprite2(R,i,r,f){return makeSprite(R,i,function(e){e.scale(3,3),R/=3,i/=3;for(var l=0;l<i;++l)for(var t=0;t<R;++t)" "!=r[l][t]&&(e.fillStyle=f[+r[l][t]],e.fillRect(t,i-l-1,1,1))})}var columnSprite=makeSprite(COLUMN_WIDTH,CANVAS_HEIGTH,function(e){e.save(),e.scale(8,8),e.fillStyle=GRASS_COLOR[0],e.fillRect(0,2,6,.125*CANVAS_HEIGTH-2);for(var l=2;l<.125*CANVAS_HEIGTH;++l){for(var t=0;t<6;++t)e.fillStyle=GROUND_COLOR[(l+t)%3],e.fillRect(t,l,1,1);e.globalAlpha-=.0125}e.restore(),e.scale(3,3),e.fillStyle=GRASS_COLOR[0],e.fillRect(1,0,14,1),e.fillRect(0,1,1,1),e.fillRect(15,1,1,1),e.fillStyle=GRASS_COLOR[2],e.fillRect(1,1,14,1),e.fillStyle=GRASS_COLOR[1],e.fillRect(0,2,16,1);for(l=0;l<10;++l)for(t=0;t<16;++t)" "!=grass[l][t]&&(e.fillStyle=GRASS_COLOR[+grass[l][t]],e.fillRect(t,l+3,1,1))}),dangerPattern=canvas.createPattern(makeSprite(COLUMN_WIDTH,.5*COLUMN_WIDTH,function(e){e.scale(3,3),e.fillStyle=BRICK_COLOR[2],e.fillRect(0,0,16,8),e.fillStyle=BRICK_COLOR[0],e.fillRect(8,0,1,3),e.fillRect(0,3,16,1),e.fillRect(0,4,1,3),e.fillRect(0,7,16,1),e.fillStyle=BRICK_COLOR[1],e.fillRect(7,0,1,3),e.fillRect(15,4,1,3),e.fillStyle=BRICK_COLOR[3],e.fillRect(9,0,1,3),e.fillRect(1,4,1,3),e.fillRect(0,0,7,1),e.fillRect(9,0,7,1),e.fillRect(1,4,14,1)}),"repeat"),carSprite=makeSprite2(60,39,car,CAR_COLOR),wheelSprites=[makeSprite2(24,24,wheel0,CAR_COLOR),makeSprite2(24,24,wheel1,CAR_COLOR),makeSprite2(24,24,wheel2,CAR_COLOR),makeSprite2(24,24,wheel3,CAR_COLOR)];wheelSprites.push(wheelSprites[0]);